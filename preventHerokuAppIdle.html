<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<title>Page Title</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="">

<script>
const domain_name ='https://qi-management.herokuapp.com';
const login_path = '/admin/auth';
const data = JSON.stringify({
  username: 'admin',
  password: '12345678'
})
var xhr = new XMLHttpRequest()
var xhr2 = new XMLHttpRequest();

function preventHerokuIdle () {

	xhr2.open('GET', 'https://prevent-heroku-app-idle.herokuapp.com/', true);
	xhr2.send();

	xhr.open('POST', domain_name + login_path , true);
	//xhr.withCredentials = true;
	xhr.setRequestHeader('Content-Type', 'application/json');
	xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
	xhr.onload = function () {
        	console.log(xhr.responseText);
	};

	xhr.send(data);
        console.log('Executed!');
}

var interval = setInterval(function () { preventHerokuIdle(); }, 100000);



</script>
<body>

<button>Send an HTTP POST request to a page and get the result back</button>


</body>
</html>
